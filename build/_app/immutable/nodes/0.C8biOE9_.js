var ct=t=>{throw TypeError(t)};var Le=(t,e,r)=>e.has(t)||ct("Cannot "+r);var g=(t,e,r)=>(Le(t,e,"read from private field"),r?r.call(t):e.get(t)),x=(t,e,r)=>e.has(t)?ct("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),C=(t,e,r,n)=>(Le(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),H=(t,e,r)=>(Le(t,e,"access private method"),r);import{d as lt,e as Xt,t as B,a as E,c as bt,f as Ht}from"../chunks/B2hSDNwb.js";import{ak as q,h as De,c as ut,Z as Yt,aX as qt,l as Fe,a9 as Kt,aT as Ut,aS as Zt,s as Jt,V as we,b as Qt,E as $t,j as er,Q as tr,a7 as rr,A as k,aY as nr,x as f,a1 as or,m as ar,u as ir,aO as sr,p as ge,I as ye,ai as cr,au as lr,aj as ur,aw as V,am as Oe,w as ze,an as Q,al as R,a as ve,aN as Ke,z as dr,aP as xe,aZ as fr,ar as G,o as St,ax as mr}from"../chunks/Bxdg7ccW.js";import{e as T,o as re,h as kt}from"../chunks/6og0jn-Y.js";import{i as J}from"../chunks/Bqnn9XxY.js";import{a as Ee,s as Et}from"../chunks/CP6E_JcI.js";import{c as dt,s as je}from"../chunks/wkM8Wptt.js";import{i as hr}from"../chunks/BkJq1j4_.js";import{e as Ge}from"../chunks/ucczKhfM.js";import{a as Ue}from"../chunks/CcUbZ0dA.js";import{s as We}from"../chunks/UMIFvBL3.js";import{p as I}from"../chunks/Czyh_-as.js";import{g as _e,i as gr}from"../chunks/IbqXbPHK.js";import{w as Xe,d as Ve}from"../chunks/Cq64pHAR.js";import{A as vr}from"../chunks/3YYhwEwk.js";function pr(t,e,r=!1,n=!1,s=!1){var c=t,l="";q(()=>{var d=Yt;if(l===(l=e()??"")){De&&ut();return}if(d.nodes_start!==null&&(qt(d.nodes_start,d.nodes_end),d.nodes_start=d.nodes_end=null),l!==""){if(De){Fe.data;for(var m=ut(),h=m;m!==null&&(m.nodeType!==8||m.data!=="");)h=m,m=Kt(m);if(m===null)throw Ut(),Zt;lt(Fe,h),c=Jt(m);return}var y=l+"";r?y=`<svg>${y}</svg>`:n&&(y=`<math>${y}</math>`);var _=Xt(y);if((r||n)&&(_=we(_)),lt(we(_),_.lastChild),r||n)for(;we(_);)c.before(we(_));else c.before(_)}})}function wr(t,e,...r){var n=t,s=tr,c;Qt(()=>{s!==(s=e())&&(c&&(rr(c),c=null),c=er(()=>s(n,...r)))},$t),De&&(n=Fe)}function yr(t){k(t,t.v+1)}function Re(t){let e=0,r=or(0),n;return()=>{nr()&&(f(r),ar(()=>(e===0&&(n=ir(()=>t(()=>yr(r)))),e+=1,()=>{sr().then(()=>{e-=1,e===0&&(n==null||n(),n=void 0)})})))}}var _r=B("<div></div>"),br=B("<div></div>"),Sr=B("<div></div>"),kr=B('<div class="menu-block logout svelte-17duepy" title="Logout"><svg class="icon svelte-17duepy" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg></div> <div class="menu-block avatar svelte-17duepy"><img alt="avatar" class="avatar-image svelte-17duepy"></div>',1),Er=B('<div class="menu-block login svelte-17duepy" title="Login"><svg class="icon svelte-17duepy" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg></div>'),Tr=B('<div class="modal-debug svelte-17duepy">Modal should be visible</div> <!>',1),Ar=B('<div class="navbar-row svelte-17duepy"><div class="navbar svelte-17duepy"></div> <div class="label-box svelte-17duepy">Create</div> <div class="navbar alt-theme svelte-17duepy"></div> <div class="label-box svelte-17duepy">List</div> <div class="label-box svelte-17duepy">Gallery</div> <div class="navbar alt-theme-2 svelte-17duepy"></div> <div class="menu-bar svelte-17duepy"><!> <div class="menu-block about svelte-17duepy" title="About"><svg class="icon svelte-17duepy" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></div></div></div> <!>',1);function Mr(t,e){ge(e,!1);const[r,n]=Et(),s=()=>Ee(Ce,"$user",r),c=()=>Ee(It,"$avatarUrl",r);let l=I(e,"session",8),d=I(e,"onAuthToggle",8);const m=Xe(l());let h=ye(!1);function y(){console.log("Sign In button clicked, setting showAuthModal to true"),k(h,!0),console.log("showAuthModal state:",f(h))}const _=10,X=5;function z(){return Array(50).fill(null).map((o,u)=>({id:u,isBlack:!1,isBlue:!1,isRed:!1,navigateTo:null}))}let i=ye(z()),a=ye(z()),v=ye(z()),j=[],A=[],ne=[];const Ce=Ve(m,o=>(o==null?void 0:o.user)||null),It=Ve(Ce,o=>{var u;return((u=o==null?void 0:o.user_metadata)==null?void 0:u.avatar_url)||"/default-avatar.png"});Ve(Ce,o=>{var u,p;return((u=o==null?void 0:o.user_metadata)==null?void 0:u.full_name)||((p=o==null?void 0:o.email)==null?void 0:p.split("@")[0])||"User"});function Qe(){alert("Please log in to access this feature."),y()}function Be(o,u,p){const b=o.currentTarget.getBoundingClientRect(),D=o.clientX-b.left,F=o.clientY-b.top,jt=200/_,Gt=50/X,at=Math.floor(D/jt),it=Math.floor(F/Gt),ce=it*_+at;let N=u.map(M=>({...M,isBlue:!1}));const st=N.map((M,P)=>{const Vt=Math.floor(P/_),Dt=P%_,Ft=Math.sqrt((Dt-at)**2+(Vt-it)**2);return{index:P,distance:Ft}});st.sort((M,P)=>M.distance-P.distance);const Wt=st.slice(0,3).map(M=>M.index);N=N.map((M,P)=>({...M,isBlue:Wt.includes(P)&&!M.isBlack})),ce>=0&&ce<N.length&&!N[ce].isBlack&&setTimeout(()=>{N=N.map((M,P)=>({...M,isRed:P===ce&&!M.isBlack})),p([...N]),setTimeout(()=>{N=N.map((M,P)=>({...M,isRed:P===ce?!1:M.isRed})),p([...N])},500)},100),p([...N])}function Ie(o,u,p,w){if(!s()){Qe();return}if(w.length<2&&!u[o].isBlack){const b=u.map((D,F)=>({...D,isBlack:F===o?!0:D.isBlack,isBlue:F===o?!1:D.isBlue,isRed:F===o?!1:D.isRed}));w.push(o),w.length===1?b[o].navigateTo="/create":w.length===2&&(b[o].navigateTo="/gallery"),p([...b])}else u[o].isBlack&&u[o].navigateTo&&_e(u[o].navigateTo)}function Ne(o,u){o(u.map(p=>({...p,isBlue:!1,isRed:!1})))}function oe(o){s()?_e(o):Qe()}cr(()=>lr(l()),()=>{m.set(l())}),ur(),hr();var $e=Ar(),Pe=V($e),ae=Oe(Pe);Ge(ae,5,()=>f(i),o=>o.id,(o,u)=>{var p=_r();let w;q(b=>w=We(p,1,"block svelte-17duepy",null,w,b),[()=>({black:f(u).isBlack,blue:f(u).isBlue,red:f(u).isRed})],ze),T("click",p,()=>Ie(f(u).id,f(i),b=>k(i,b),j)),E(o,p)}),Q(ae);var et=R(ae,2),ie=R(et,2);Ge(ie,5,()=>f(a),o=>o.id,(o,u)=>{var p=br();let w;q(b=>w=We(p,1,"block svelte-17duepy",null,w,b),[()=>({black:f(u).isBlack,"alt-blue":f(u).isBlue,"alt-red":f(u).isRed})],ze),T("click",p,()=>Ie(f(u).id,f(a),b=>k(a,b),A)),E(o,p)}),Q(ie);var tt=R(ie,2),rt=R(tt,2),se=R(rt,2);Ge(se,5,()=>f(v),o=>o.id,(o,u)=>{var p=Sr();let w;q(b=>w=We(p,1,"block svelte-17duepy",null,w,b),[()=>({black:f(u).isBlack,"alt2-blue":f(u).isBlue,"alt2-red":f(u).isRed})],ze),T("click",p,()=>Ie(f(u).id,f(v),b=>k(v,b),ne)),E(o,p)}),Q(se);var nt=R(se,2),ot=Oe(nt);{var Nt=o=>{var u=kr(),p=V(u),w=R(p,2),b=Oe(w);Q(w),q(()=>Ue(b,"src",c())),T("click",p,function(...D){var F;(F=d())==null||F.apply(this,D)}),T("click",w,()=>oe("/settings")),E(o,u)},Pt=o=>{var u=Er();T("click",u,y),E(o,u)};J(ot,o=>{s()?o(Nt):o(Pt,!1)})}var Lt=R(ot,2);Q(nt),Q(Pe);var Ot=R(Pe,2);{var zt=o=>{var u=Tr(),p=R(V(u),2);vr(p,{get show(){return f(h)},set show(w){k(h,w)},$$events:{authSuccess:async()=>{console.log("Auth success event"),await gr();const w=localStorage.getItem("sb-redirect")||"/";localStorage.removeItem("sb-redirect"),console.log("Redirecting after auth success:",w),_e(w,{replaceState:!0})},authError:({detail:w})=>{console.log("Auth error:",w.message),k(h,!1)}},$$legacy:!0}),E(o,u)};J(Ot,o=>{f(h)&&o(zt)})}T("mousemove",ae,o=>Be(o,f(i),u=>k(i,u))),T("mouseleave",ae,()=>Ne(o=>k(i,o),f(i))),T("click",et,()=>oe("/create")),T("mousemove",ie,o=>Be(o,f(a),u=>k(a,u))),T("mouseleave",ie,()=>Ne(o=>k(a,o),f(a))),T("click",tt,()=>oe("/todo")),T("click",rt,()=>oe("/gallery")),T("mousemove",se,o=>Be(o,f(v),u=>k(v,u))),T("mouseleave",se,()=>Ne(o=>k(v,o),f(v))),T("click",Lt,()=>oe("/about")),E(t,$e),ve(),n()}function xr(t){return typeof t=="function"}function Rr(t){return t!==null&&typeof t=="object"}const le=Symbol("box"),Ze=Symbol("is-writable");function Cr(t){return Rr(t)&&le in t}function Br(t){return S.isBox(t)&&Ze in t}function S(t){let e=Ke(dr(t));return{[le]:!0,[Ze]:!0,get current(){return f(e)},set current(r){k(e,r,!0)}}}function Ir(t,e){const r=xe(t);return e?{[le]:!0,[Ze]:!0,get current(){return f(r)},set current(n){e(n)}}:{[le]:!0,get current(){return t()}}}function Nr(t){return S.isBox(t)?t:xr(t)?S.with(t):S(t)}function Pr(t){return Object.entries(t).reduce((e,[r,n])=>S.isBox(n)?(S.isWritableBox(n)?Object.defineProperty(e,r,{get(){return n.current},set(s){n.current=s}}):Object.defineProperty(e,r,{get(){return n.current}}),e):Object.assign(e,{[r]:n}),{})}function Lr(t){return S.isWritableBox(t)?{[le]:!0,get current(){return t.current}}:t}S.from=Nr;S.with=Ir;S.flatten=Pr;S.readonly=Lr;S.isBox=Cr;S.isWritableBox=Br;var Tt={},ft=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Or=/\n/g,zr=/^\s*/,jr=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Gr=/^:\s*/,Wr=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Vr=/^[;\s]*/,Dr=/^\s+|\s+$/g,Fr=`
`,mt="/",ht="*",Y="",Xr="comment",Hr="declaration",Yr=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,n=1;function s(i){var a=i.match(Or);a&&(r+=a.length);var v=i.lastIndexOf(Fr);n=~v?i.length-v:n+i.length}function c(){var i={line:r,column:n};return function(a){return a.position=new l(i),h(),a}}function l(i){this.start=i,this.end={line:r,column:n},this.source=e.source}l.prototype.content=t;function d(i){var a=new Error(e.source+":"+r+":"+n+": "+i);if(a.reason=i,a.filename=e.source,a.line=r,a.column=n,a.source=t,!e.silent)throw a}function m(i){var a=i.exec(t);if(a){var v=a[0];return s(v),t=t.slice(v.length),a}}function h(){m(zr)}function y(i){var a;for(i=i||[];a=_();)a!==!1&&i.push(a);return i}function _(){var i=c();if(!(mt!=t.charAt(0)||ht!=t.charAt(1))){for(var a=2;Y!=t.charAt(a)&&(ht!=t.charAt(a)||mt!=t.charAt(a+1));)++a;if(a+=2,Y===t.charAt(a-1))return d("End of comment missing");var v=t.slice(2,a-2);return n+=2,s(v),t=t.slice(a),n+=2,i({type:Xr,comment:v})}}function X(){var i=c(),a=m(jr);if(a){if(_(),!m(Gr))return d("property missing ':'");var v=m(Wr),j=i({type:Hr,property:gt(a[0].replace(ft,Y)),value:v?gt(v[0].replace(ft,Y)):Y});return m(Vr),j}}function z(){var i=[];y(i);for(var a;a=X();)a!==!1&&(i.push(a),y(i));return i}return h(),z()};function gt(t){return t?t.replace(Dr,Y):Y}var qr=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tt,"__esModule",{value:!0});var vt=Tt.default=Ur,Kr=qr(Yr);function Ur(t,e){var r=null;if(!t||typeof t!="string")return r;var n=(0,Kr.default)(t),s=typeof e=="function";return n.forEach(function(c){if(c.type==="declaration"){var l=c.property,d=c.value;s?e(l,d,c):d&&(r=r||{},r[l]=d)}}),r}vt.default;function Zr(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const Jr=Zr(/[A-Z]/,t=>`-${t.toLowerCase()}`);function Qr(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${Jr(e)}: ${t[e]};`).join(`
`)}function $r(t={}){return Qr(t).replace(`
`," ")}const en={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};$r(en);const tn=typeof window<"u"?window:void 0;function rn(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var ue,de;class nn{constructor(e,r){x(this,ue);x(this,de);C(this,ue,e),C(this,de,Re(r))}get current(){return g(this,de).call(this),g(this,ue).call(this)}}ue=new WeakMap,de=new WeakMap;const on=/\(.+\)/;class an extends nn{constructor(e,r){let n=on.test(e)?e:`(${e})`;const s=window.matchMedia(n);super(()=>s.matches,c=>re(s,"change",c))}}var $,fe,_t;let sn=(_t=class{constructor(e={}){x(this,$);x(this,fe);const{window:r=tn,document:n=r==null?void 0:r.document}=e;r!==void 0&&(C(this,$,n),C(this,fe,Re(s=>{const c=re(r,"focusin",s),l=re(r,"focusout",s);return()=>{c(),l()}})))}get current(){var e;return(e=g(this,fe))==null||e.call(this),g(this,$)?rn(g(this,$)):null}},$=new WeakMap,fe=new WeakMap,_t);new sn;function pt(t){return t.filter(e=>e.length>0)}const At={getItem:t=>null,setItem:(t,e)=>{}},pe=typeof document<"u",cn=["dark","light","system"];function He(t){return typeof t!="string"?!1:cn.includes(t)}const Mt=typeof window<"u"?window:void 0;function ln(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var ee,me;class un{constructor(e={}){x(this,ee);x(this,me);const{window:r=Mt,document:n=r==null?void 0:r.document}=e;r!==void 0&&(C(this,ee,n),C(this,me,Re(s=>{const c=re(r,"focusin",s),l=re(r,"focusout",s);return()=>{c(),l()}})))}get current(){var e;return(e=g(this,me))==null||e.call(this),g(this,ee)?ln(g(this,ee)):null}}ee=new WeakMap,me=new WeakMap;new un;function dn(t,e){switch(t){case"local":return e.localStorage;case"session":return e.sessionStorage}}var U,W,te,Z,he,L,Me,O,be,Se;class xt{constructor(e,r,n={}){x(this,O);x(this,U);x(this,W);x(this,te);x(this,Z);x(this,he);x(this,L,Ke(0));x(this,Me,e=>{e.key!==g(this,W)||e.newValue===null||(C(this,U,H(this,O,be).call(this,e.newValue)),k(g(this,L),f(g(this,L))+1))});const{storage:s="local",serializer:c={serialize:JSON.stringify,deserialize:JSON.parse},syncTabs:l=!0,window:d=Mt}=n;if(C(this,U,r),C(this,W,e),C(this,te,c),d===void 0)return;const m=dn(s,d);C(this,Z,m);const h=m.getItem(e);h!==null?C(this,U,H(this,O,be).call(this,h)):H(this,O,Se).call(this,r),l&&s==="local"&&C(this,he,Re(()=>re(d,"storage",g(this,Me))))}get current(){var s,c;(s=g(this,he))==null||s.call(this),f(g(this,L));const e=H(this,O,be).call(this,(c=g(this,Z))==null?void 0:c.getItem(g(this,W)))??g(this,U),r=new WeakMap,n=l=>{if(l===null||(l==null?void 0:l.constructor.name)==="Date"||typeof l!="object")return l;let d=r.get(l);return d||(d=new Proxy(l,{get:(m,h)=>(f(g(this,L)),n(Reflect.get(m,h))),set:(m,h,y)=>(k(g(this,L),f(g(this,L))+1),Reflect.set(m,h,y),H(this,O,Se).call(this,e),!0)}),r.set(l,d)),d};return n(e)}set current(e){H(this,O,Se).call(this,e),k(g(this,L),f(g(this,L))+1)}}U=new WeakMap,W=new WeakMap,te=new WeakMap,Z=new WeakMap,he=new WeakMap,L=new WeakMap,Me=new WeakMap,O=new WeakSet,be=function(e){try{return g(this,te).deserialize(e)}catch(r){console.error(`Error when parsing "${e}" from persisted store "${g(this,W)}"`,r);return}},Se=function(e){var r;try{e!=null&&((r=g(this,Z))==null||r.setItem(g(this,W),g(this,te).serialize(e)))}catch(n){console.error(`Error when writing value from persisted store "${g(this,W)}" to ${g(this,Z)}`,n)}};let wt,yt;function Rt(t){if(typeof document>"u")return;clearTimeout(wt),clearTimeout(yt);const e=document.createElement("style"),r=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(r);const n=()=>document.head.appendChild(e),s=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){n(),t(),window.getComputedStyle(e).opacity,s();return}if(typeof window.requestAnimationFrame<"u"){n(),t(),window.requestAnimationFrame(s);return}n(),wt=window.setTimeout(()=>{t(),yt=window.setTimeout(s,120)},120)}const Te=S("mode-watcher-mode"),Ae=S("mode-watcher-theme"),Ye=fn(),qe=hn(),K=S(void 0),ke=mn(),Je=S(!0),Ct=S([]),Bt=S([]);function fn(){const t="system",r=(pe?localStorage:At).getItem(Te.current),n=He(r)?r:t;return new xt(Te.current,n,{serializer:{serialize:s=>s,deserialize:s=>He(s)?s:t}})}function mn(){const e=(pe?localStorage:At).getItem(Ae.current),r=e??"";return new xt(Ae.current,r,{serializer:{serialize:n=>typeof n!="string"?"":n,deserialize:n=>n}})}function hn(){let e=!0,r=Ke(void 0);function n(){pe&&k(r,c.current?"light":"dark",!0)}function s(l){e=l}const c=typeof window<"u"&&"matchMedia"in window?new an("prefers-color-scheme: light"):{current:!1};return fr(()=>{G(()=>{e&&n()})}),{get current(){return f(r)},query:n,tracking:s}}function gn(){const t=xe(()=>{if(!pe)return;const e=Ye.current==="system"?qe.current:Ye.current,r=pt(Ct.current),n=pt(Bt.current);function s(){const c=document.documentElement,l=document.querySelector('meta[name="theme-color"]');e==="light"?(r.length&&c.classList.remove(...r),n.length&&c.classList.add(...n),c.style.colorScheme="light",l&&K.current&&l.setAttribute("content",K.current.light)):(n.length&&c.classList.remove(...n),r.length&&c.classList.add(...r),c.style.colorScheme="dark",l&&K.current&&l.setAttribute("content",K.current.dark))}return Je.current?Rt(s):s(),e});return{get current(){return f(t)}}}function vn(){const t=xe(()=>{if(ke.current,!pe)return;function e(){document.documentElement.setAttribute("data-theme",ke.current)}return Je.current?Rt(e):e(),ke.current});return{get current(){return f(t)}}}const pn=gn(),wn=vn();function yn(t){Ye.current=t}function _n(t){ke.current=t}function bn({defaultMode:t="system",themeColors:e,darkClassNames:r=["dark"],lightClassNames:n=[],defaultTheme:s="",modeStorageKey:c="mode-watcher-mode",themeStorageKey:l="mode-watcher-theme"}){const d=document.documentElement,m=localStorage.getItem(c)??t,h=localStorage.getItem(l)??s,y=m==="light"||m==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(y?(r.length&&d.classList.remove(...r),n.length&&d.classList.add(...n)):(n.length&&d.classList.remove(...n),r.length&&d.classList.add(...r)),d.style.colorScheme=y?"light":"dark",e){const _=document.querySelector('meta[name="theme-color"]');_&&_.setAttribute("content",m==="light"?e.light:e.dark)}h&&(d.setAttribute("data-theme",h),localStorage.setItem(l,h)),localStorage.setItem(c,m)}var Sn=B('<meta name="theme-color">');function kn(t,e){ge(e,!0);var r=bt(),n=V(r);{var s=c=>{var l=Sn();q(()=>Ue(l,"content",e.themeColors.dark)),E(c,l)};J(n,c=>{e.themeColors&&c(s)})}E(t,r),ve()}var En=B('<meta name="theme-color">'),Tn=B("<!> <!>",1);function An(t,e){ge(e,!0);let r=I(e,"trueNonce",3,"");kt(n=>{var s=Tn(),c=V(s);{var l=m=>{var h=En();q(()=>Ue(h,"content",e.themeColors.dark)),E(m,h)};J(c,m=>{e.themeColors&&m(l)})}var d=R(c,2);pr(d,()=>`<script${r()?` nonce=${r()}`:""}>(`+bn.toString()+")("+JSON.stringify(e.initConfig)+");<\/script>"),E(n,s)}),ve()}function Mn(t,e){ge(e,!0);let r=I(e,"track",3,!0),n=I(e,"defaultMode",3,"system"),s=I(e,"disableTransitions",3,!0),c=I(e,"darkClassNames",19,()=>["dark"]),l=I(e,"lightClassNames",19,()=>[]),d=I(e,"defaultTheme",3,""),m=I(e,"nonce",3,""),h=I(e,"themeStorageKey",3,"mode-watcher-theme"),y=I(e,"modeStorageKey",3,"mode-watcher-mode"),_=I(e,"disableHeadScriptInjection",3,!1);G(()=>{Je.current=s()}),G(()=>{K.current=e.themeColors}),G(()=>{Ct.current=c()}),G(()=>{Bt.current=l()}),G(()=>{Te.current=y()}),G(()=>{Ae.current=h()}),G(()=>{pn.current}),G(()=>{wn.current}),St(()=>{qe.tracking(r()),qe.query();const A=localStorage.getItem(Te.current);yn(He(A)?A:n());const ne=localStorage.getItem(Ae.current);_n(ne||d())});const X={defaultMode:n(),themeColors:e.themeColors,darkClassNames:c(),lightClassNames:l(),defaultTheme:d(),modeStorageKey:y(),themeStorageKey:h()},z=xe(()=>typeof window>"u"?m():"");var i=bt(),a=V(i);{var v=A=>{kn(A,{get themeColors(){return K.current}})},j=A=>{An(A,{get trueNonce(){return f(z)},initConfig:X,get themeColors(){return K.current}})};J(a,A=>{_()?A(v):A(j,!1)})}E(t,i),ve()}var xn=Ht(`<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-TVHZWJGB"><\/script> <script>
      window.dataLayer = window.dataLayer || [];
      window.dataLayer.push({
        'gtm.start': new Date().getTime(),
        event: 'gtm.js'
      });
    <\/script>`,1),Rn=B('<link rel="canonical" href="https://pexos.netlify.app"> <meta name="robots" content="index, follow"> <meta name="google-site-verification" content="fP4cuGw4wrszN9kcVbzYHTB8bKj4YSxHTyZDSGOvyPk"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta property="og:title" content="Pexos, collaborative creative platform"> <meta property="og:description" content="Log in and start creating."> <meta property="og:image" content="/logo192.png"> <meta property="og:url" content="https://pexos.netlify.app"> <meta property="og:type" content="website"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:title" content="Pexos, collaborative creative platform"> <meta name="twitter:description" content="Log in and start creating."> <meta name="twitter:image" content="/logo192.png"> <!>',1),Cn=B("<div>Loading...</div>"),Bn=B("<!> <!>",1),In=B("<noscript></noscript> <!> <!>",1);function Un(t,e){ge(e,!0);const[r,n]=Et(),s=()=>Ee(l,"$sessionStore",r),c=()=>Ee(d,"$loading",r);St(()=>{document.documentElement.setAttribute("data-theme","dark")});const l=Xe(e.data.session),d=Xe(!0);je.auth.getSession().then(({data:{session:i},error:a})=>{console.log("Client session loaded at:",new Date().toISOString()),a&&console.error("Session load error:",a.message),l.set(i||e.data.session),d.set(!1)}).catch(i=>{console.error("Session load error:",i),l.set(e.data.session||null),d.set(!1)}),je.auth.onAuthStateChange((i,a)=>{var v;console.log("Auth state changed:",i,(v=a==null?void 0:a.user)==null?void 0:v.email),l.set(a),i==="SIGNED_OUT"&&window.location.pathname!=="/"&&(console.log("User signed out, redirecting to /"),_e("/",{replaceState:!0}))});async function m(){if(s()){console.log("Initiating sign out"),d.set(!0);try{const{error:i}=await je.auth.signOut();if(i)throw i;console.log("Signed out successfully")}catch(i){console.error("Sign out failed:",i)}finally{d.set(!1)}}}var h=In();kt(i=>{var a=Rn(),v=R(V(a),26);{var j=A=>{var ne=xn();mr(2),E(A,ne)};J(v,A=>{A(j)})}E(i,a)});var y=R(V(h),2);Mn(y,{default:"light",themeColors:{light:"#f0f0f0",dark:"#1a1a1a"},disableTransitions:!0});var _=R(y,2);{var X=i=>{var a=Cn();E(i,a)},z=i=>{var a=Bn(),v=V(a);Mr(v,{get session(){return s()},onAuthToggle:m});var j=R(v,2);wr(j,()=>e.children),E(i,a)};J(_,i=>{c()?i(X):i(z,!1)})}E(t,h),ve(),n()}export{Un as component};
