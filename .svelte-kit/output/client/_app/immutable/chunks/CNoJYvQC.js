import{y as S,E as B,aE as L,aF as z,e as U,u as W,aG as G,ah as K,q as P,a4 as k,aH as A,aI as I,aJ as j,aK as H,aL as J}from"./BDHGhfTE.js";import{a as D}from"./CTjs_13Y.js";import{w as Q}from"./CvTsB6m-.js";const V=()=>performance.now(),m={tick:r=>requestAnimationFrame(r),now:()=>V(),tasks:new Set};function O(){const r=m.now();m.tasks.forEach(t=>{t.c(r)||(m.tasks.delete(t),t.f())}),m.tasks.size!==0&&m.tick(O)}function X(r){let t;return m.tasks.size===0&&m.tick(O),{promise:new Promise(e=>{m.tasks.add(t={c:r,f:e})}),abort(){m.tasks.delete(t)}}}function E(r,t){Q(()=>{r.dispatchEvent(new CustomEvent(t))})}function Y(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function R(r){const t={},e=r.split(";");for(const i of e){const[d,n]=i.split(":");if(!d||n===void 0)break;const u=Y(d.trim());t[u]=n.trim()}return t}const Z=r=>r;function it(r,t,e,i){var d=(r&H)!==0,n=(r&J)!==0,u=d&&n,l=(r&G)!==0,w=u?"both":d?"in":"out",o,a=t.inert,g=t.style.overflow,f,s;function y(){var p=j,b=S;A(null),I(null);try{return o??(o=e()(t,(i==null?void 0:i())??{},{direction:w}))}finally{A(p),I(b)}}var v={is_global:l,in(){var p;if(t.inert=a,!d){s==null||s.abort(),(p=s==null?void 0:s.reset)==null||p.call(s);return}n||f==null||f.abort(),E(t,"introstart"),f=x(t,y(),s,1,()=>{E(t,"introend"),f==null||f.abort(),f=o=void 0,t.style.overflow=g})},out(p){if(!n){p==null||p(),o=void 0;return}t.inert=!0,E(t,"outrostart"),s=x(t,y(),f,0,()=>{E(t,"outroend"),p==null||p()})},stop:()=>{f==null||f.abort(),s==null||s.abort()}},_=S;if((_.transitions??(_.transitions=[])).push(v),d&&D){var c=l;if(!c){for(var h=_.parent;h&&h.f&B;)for(;(h=h.parent)&&!(h.f&L););c=!h||(h.f&z)!==0}c&&U(()=>{W(()=>v.in())})}}function x(r,t,e,i,d){var n=i===1;if(K(t)){var u,l=!1;return P(()=>{if(!l){var _=t({direction:n?"in":"out"});u=x(r,_,e,i,d)}}),{abort:()=>{l=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(e==null||e.deactivate(),!(t!=null&&t.duration))return d(),{abort:k,deactivate:k,reset:k,t:()=>i};const{delay:w=0,css:o,tick:a,easing:g=Z}=t;var f=[];if(n&&e===void 0&&(a&&a(0,1),o)){var s=R(o(0,1));f.push(s,s)}var y=()=>1-i,v=r.animate(f,{duration:w});return v.onfinish=()=>{var _=(e==null?void 0:e.t())??1-i;e==null||e.abort();var c=i-_,h=t.duration*Math.abs(c),p=[];if(h>0){var b=!1;if(o)for(var T=Math.ceil(h/16.666666666666668),$=0;$<=T;$+=1){var F=_+c*g($/T),N=R(o(F,1-F));p.push(N),b||(b=N.overflow==="hidden")}b&&(r.style.overflow="hidden"),y=()=>{var C=v.currentTime;return _+c*g(C/h)},a&&X(()=>{if(v.playState!=="running")return!1;var C=y();return a(C,1-C),!0})}v=r.animate(p,{duration:h,fill:"forwards"}),v.onfinish=()=>{y=()=>i,a==null||a(i,1-i),d()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=k)},deactivate:()=>{d=k},reset:()=>{i===0&&(a==null||a(1,0))},t:()=>y()}}const tt=r=>r;function q(r){const t=r-1;return t*t*t+1}function nt(r,{delay:t=0,duration:e=400,easing:i=tt}={}){const d=+getComputedStyle(r).opacity;return{delay:t,duration:e,easing:i,css:n=>`opacity: ${n*d}`}}function st(r,{delay:t=0,duration:e=400,easing:i=q,axis:d="y"}={}){const n=getComputedStyle(r),u=+n.opacity,l=d==="y"?"height":"width",w=parseFloat(n[l]),o=d==="y"?["top","bottom"]:["left","right"],a=o.map(c=>`${c[0].toUpperCase()}${c.slice(1)}`),g=parseFloat(n[`padding${a[0]}`]),f=parseFloat(n[`padding${a[1]}`]),s=parseFloat(n[`margin${a[0]}`]),y=parseFloat(n[`margin${a[1]}`]),v=parseFloat(n[`border${a[0]}Width`]),_=parseFloat(n[`border${a[1]}Width`]);return{delay:t,duration:e,easing:i,css:c=>`overflow: hidden;opacity: ${Math.min(c*20,1)*u};${l}: ${c*w}px;padding-${o[0]}: ${c*g}px;padding-${o[1]}: ${c*f}px;margin-${o[0]}: ${c*s}px;margin-${o[1]}: ${c*y}px;border-${o[0]}-width: ${c*v}px;border-${o[1]}-width: ${c*_}px;min-${l}: 0`}}function M(r,t){for(const e in t)r[e]=t[e];return r}function ot({fallback:r,...t}){const e=new Map,i=new Map;function d(u,l,w){const{delay:o=0,duration:a=$=>Math.sqrt($)*30,easing:g=q}=M(M({},t),w),f=u.getBoundingClientRect(),s=l.getBoundingClientRect(),y=f.left-s.left,v=f.top-s.top,_=f.width/s.width,c=f.height/s.height,h=Math.sqrt(y*y+v*v),p=getComputedStyle(l),b=p.transform==="none"?"":p.transform,T=+p.opacity;return{delay:o,duration:typeof a=="function"?a(h):a,easing:g,css:($,F)=>`
			   opacity: ${$*T};
			   transform-origin: top left;
			   transform: ${b} translate(${F*y}px,${F*v}px) scale(${$+(1-$)*_}, ${$+(1-$)*c});
		   `}}function n(u,l,w){return(o,a)=>(u.set(a.key,o),()=>{if(l.has(a.key)){const g=l.get(a.key);return l.delete(a.key),d(g,o,a)}return u.delete(a.key),r&&r(o,a,w)})}return[n(i,e,!1),n(e,i,!0)]}export{ot as c,nt as f,st as s,it as t};
